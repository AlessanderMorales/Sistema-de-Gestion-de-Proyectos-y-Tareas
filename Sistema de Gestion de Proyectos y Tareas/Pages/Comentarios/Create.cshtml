@page
@model Sistema_de_Gestion_de_Proyectos_y_Tareas.Pages.Comentarios.CreateModel

<h2>Nuevo Comentario</h2>

<form method="post">
    <div class="form-group mb-3">
        <label class="form-label">Contenido</label>
        <textarea asp-for="Comentario.Contenido" class="form-control"></textarea>
        <span asp-validation-for="Comentario.Contenido" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label class="form-label">Tarea</label>
        <select asp-for="Comentario.IdTarea" class="form-select">
            <option value="">-- Selecciona una tarea --</option>
            @foreach (var tarea in Model.Tareas)
            {
                <option value="@tarea.Id">@tarea.Titulo</option>
            }
        </select>
        <span asp-validation-for="Comentario.IdTarea" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label class="form-label">Usuario</label>
        <select asp-for="Comentario.IdUsuario" class="form-select">
            <option value="">-- Selecciona un usuario --</option>
            @foreach (var usuario in Model.Usuarios)
            {
                <option value="@usuario.Id">@($"{usuario.PrimerNombre} {usuario.Apellidos}")</option>
            }
        </select>
        <span asp-validation-for="Comentario.IdUsuario" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-success">Guardar</button>
    <a asp-page="Index" class="btn btn-secondary">Cancelar</a>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
